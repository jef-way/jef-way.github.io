{"title":"gulp教程","slug":"gulp教程","date":"2016-05-07T06:10:00.000Z","updated":"2024-01-05T08:59:26.835Z","comments":true,"path":"api/articles/gulp教程.json","excerpt":" [Figure] gulp是前端开发过程中对代码进行构建的工具，是自动化项目的构建利器；她不仅能对网站资源进行优化，而且在开发过程中很多重复的任务能够使用正确的工具自动完成；使用她，我们不仅可以很愉快的编写代码，而且大大提高我们的工作效率。","covers":["/../imgs/2024-01-05/gulp-plugin/intro.jpg","/../imgs/2024-01-05/gulp-tutorial/cmd.jpg","/../imgs/2024-01-05/gulp-tutorial/code.jpg","/../imgs/2024-01-05/gulp-tutorial/save.jpg"],"content":"<p><img src=\"/../imgs/2024-01-05/gulp-plugin/intro.jpg\" alt=\"gulp - 入门教程\"></p>\n<p><strong>gulp</strong>是前端开发过程中对代码进行构建的工具，是自动化项目的构建利器；她不仅能对网站资源进行优化，而且在开发过程中很多重复的任务能够使用正确的工具自动完成；使用她，我们不仅可以很愉快的编写代码，而且大大提高我们的工作效率。</p>\n<span id=\"more\"></span>\n\n<p>gulp是基于Nodejs的自动任务运行器， 她能自动化地完成 javascript&#x2F;coffee&#x2F;sass&#x2F;less&#x2F;html&#x2F;image&#x2F;css 等文件的的测试、检查、合并、压缩、格式化、浏览器自动刷新、部署文件生成，并监听文件在改动后重复指定的这些步骤。在实现上，她借鉴了Unix操作系统的管道（pipe）思想，前一级的输出，直接变成后一级的输入，使得在操作上非常简单。通过本文，我们将学习如何使用Gulp来改变开发流程，从而使开发更加快速高效。</p>\n<p>gulp 和 grunt 非常类似，但相比于 grunt 的频繁 IO 操作，gulp 的流操作，能更快地更便捷地完成构建工作。</p>\n<h2 id=\"学习-gulp-的流程\"><a href=\"#学习-gulp-的流程\" class=\"headerlink\" title=\"学习 gulp 的流程\"></a>学习 gulp 的流程</h2><p>在学习前，先谈谈大致使用gulp的步骤，给读者以初步的认识。首先当然是安装nodejs，通过nodejs的npm全局安装和项目安装gulp，其次在项目里安装所需要的gulp插件，然后新建gulp的配置文件gulpfile.js并写好配置信息（定义gulp任务），最后通过命令提示符运行gulp任务即可。</p>\n<p><strong>安装nodejs -&gt; 全局安装gulp -&gt; 项目安装gulp以及gulp插件 -&gt; 配置gulpfile.js -&gt; 运行任务</strong></p>\n<h2 id=\"安装nodejs\"><a href=\"#安装nodejs\" class=\"headerlink\" title=\"安装nodejs\"></a>安装nodejs</h2><p><strong>说明：</strong>gulp是基于nodejs，理所当然需要安装nodejs；</p>\n<p><strong>安装：</strong>打开<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ub2RlanMub3JnL2VuLw==\">nodejs官网<i class=\"fa fa-external-link-alt\"></i></span>，点击硕大的绿色Download按钮，它会根据系统信息选择对应版本（.msi文件）。然后像安装QQ一样安装它就可以了（安装路径随意）。</p>\n<h2 id=\"使用命令行操作\"><a href=\"#使用命令行操作\" class=\"headerlink\" title=\"使用命令行操作\"></a>使用命令行操作</h2><p><strong>说明：</strong>什么是命令行？命令行在OSX是终端（Terminal），在windows是命令提示符（Command Prompt）；</p>\n<p><strong>注：</strong><em>之后操作都是在windows系统下；</em></p>\n<p>简单介绍gulp在使用过程中常用命令，打开命令提示符执行下列命令（打开方式：window + r 输入cmd回车）：</p>\n<ul>\n<li><code>node -v</code>查看安装的nodejs版本，出现版本号，说明刚刚已正确安装nodejs。PS：未能出现版本号，请尝试注销电脑重试</li>\n<li><code>npm -v</code>查看npm的版本号，npm是在安装nodejs时一同安装的nodejs包管理器，那它有什么用呢？稍后解释</li>\n<li><code>cd</code>定位到目录，用法：cd + 路径</li>\n<li><code>dir</code>列出文件列表</li>\n<li><code>cls</code>清空命令提示符窗口内容</li>\n</ul>\n<p><img src=\"/../imgs/2024-01-05/gulp-tutorial/cmd.jpg\" alt=\"gulp\"></p>\n<h2 id=\"关于-npm-的介绍\"><a href=\"#关于-npm-的介绍\" class=\"headerlink\" title=\"关于 npm 的介绍\"></a>关于 npm 的介绍</h2><p><strong>说明：</strong>npm（node package manager）nodejs的包管理器，用于node插件管理（包括安装、卸载、管理依赖等）；</p>\n<p>使用npm安装插件：命令提示符执行 <code>npm install &amp;lt;name&amp;gt; [-g] [--save-dev]</code>；</p>\n<ul>\n<li><code>&amp;lt;name&amp;gt;</code>：node插件名称,例：npm install gulp-less –save-dev</li>\n<li><code>-g</code>：全局安装，将会安装在C:\\Users\\Administrator\\AppData\\Roaming\\npm，并且写入系统环境变量；非全局安装：将会安装在当前定位目录；全局安装可以通过命令行在任何地方调用它，本地安装将安装在定位目录的node_modules文件夹下，通过require()调用；</li>\n<li><code>--save</code>：将保存配置信息至package.json（package.json是nodejs项目配置文件）；</li>\n<li><code>-dev</code>：保存至package.json的devDependencies节点，不指定-dev将保存至dependencies节点；</li>\n</ul>\n<p>为什么要保存至 <code>package.json</code> ？因为node插件包相对来说非常庞大，所以不加入版本管理，将配置信息写入 <code>package.json</code> 并将其加入版本管理，其他开发者对应下载即可（命令提示符执行 <code>npm install</code>，则会根据 <code>package.json</code> 下载所有需要的包）</p>\n<p><strong>NPM常用命令如下：</strong></p>\n<ul>\n<li>使用npm卸载插件：npm uninstall <name> [-g] [–save-dev]  PS：不要直接删除本地插件包</li>\n<li>使用npm更新插件：npm update <name> [-g] [–save-dev]</li>\n<li>更新全部插件：npm update [–save-dev]</li>\n<li>查看npm帮助：npm help</li>\n<li>当前目录已安装插件：npm list</li>\n</ul>\n<p>PS：npm安装插件过程：从 <span class=\"exturl\" data-url=\"aHR0cDovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy8=\">http://registry.npmjs.org<i class=\"fa fa-external-link-alt\"></i></span> 下载对应的插件包（该网站服务器位于国外，所以经常下载缓慢或出现异常），解决办法往下看↓↓↓↓↓↓</p>\n<h2 id=\"选装cnpm来解决问题\"><a href=\"#选装cnpm来解决问题\" class=\"headerlink\" title=\"选装cnpm来解决问题\"></a>选装cnpm来解决问题</h2><p><strong>说明：</strong>因为npm安装插件是从国外服务器下载，受网络影响大，可能出现异常，如果npm的服务器在中国就好了，所以我们乐于分享的淘宝团队干了这事。来自官网：“<strong>这是一个完整 npmjs.org 镜像，你可以用此代替官方版本(只读)，同步频率目前为 10分钟 一次以保证尽量与官方服务同步。</strong>”；</p>\n<p><strong>官方网址：</strong><span class=\"exturl\" data-url=\"aHR0cDovL25wbS50YW9iYW8ub3JnLw==\">http://npm.taobao.org<i class=\"fa fa-external-link-alt\"></i></span></p>\n<p><strong>安装：</strong>命令提示符执行 <code>npm install cnpm -g --registry=https://registry.npm.taobao.org</code> ；  注意：安装完后最好查看其版本号 <code>cnpm -v</code> 或关闭命令提示符重新打开，安装完直接使用有可能会出现错误；</p>\n<p><strong>注：</strong><em>cnpm跟npm用法完全一致，只是在执行命令时将npm改为cnpm（以下操作将以cnpm代替npm）</em></p>\n<h2 id=\"全局安装gulp\"><a href=\"#全局安装gulp\" class=\"headerlink\" title=\"全局安装gulp\"></a>全局安装gulp</h2><p><strong>说明：</strong>全局安装gulp目的是为了通过她执行gulp任务；</p>\n<p><strong>安装：</strong>命令提示符执行 <code>cnpm install gulp -g</code> ；</p>\n<p>查看是否正确安装：命令提示符执行 <code>gulp -v</code> ，出现版本号即为正确安装</p>\n<h2 id=\"新建package-json文件\"><a href=\"#新建package-json文件\" class=\"headerlink\" title=\"新建package.json文件\"></a>新建package.json文件</h2><p><strong>说明：</strong>package.json是基于nodejs项目必不可少的配置文件，它是存放在项目根目录的普通json文件；</p>\n<p>它是这样一个json文件（<strong>注意：json文件内是不能写注释的，复制下列内容请删除注释</strong>）：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;test&quot;</span><span class=\"punctuation\">,</span>   <span class=\"comment\">//项目名称（必须）</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;version&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;1.0.0&quot;</span><span class=\"punctuation\">,</span>   <span class=\"comment\">//项目版本（必须）</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;description&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;This is for study gulp project !&quot;</span><span class=\"punctuation\">,</span>   <span class=\"comment\">//项目描述（必须）</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;homepage&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">,</span>   <span class=\"comment\">//项目主页</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;repository&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span>    <span class=\"comment\">//项目资源库</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;git&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;https://git.oschina.net/xxxx&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;author&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span>    <span class=\"comment\">//项目作者信息</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;surging&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;email&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;surging2@qq.com&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;license&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ISC&quot;</span><span class=\"punctuation\">,</span>    <span class=\"comment\">//项目许可协议</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;devDependencies&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span>    <span class=\"comment\">//项目依赖的插件</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;gulp&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.8.11&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;gulp-less&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.0.0&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>当然我们可以手动新建这个配置文件，但是作为一名有志青年，我们应该使用更为效率的方法：命令提示符执行 <code>cnpm init</code></p>\n<p><img src=\"/../imgs/2024-01-05/gulp-tutorial/code.jpg\" alt=\"gulp\"></p>\n<p>查看package.json帮助文档，命令提示符执行 <code>cnpm help package.json</code></p>\n<p>特别注意：<code>package.json</code> 是一个普通json文件，所以不能添加任何注释。参看 <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy56aGlodS5jb20vcXVlc3Rpb24vMjMwMDQ1MTE=\">http://www.zhihu.com/question/23004511<i class=\"fa fa-external-link-alt\"></i></span></p>\n<h2 id=\"本地安装gulp插件\"><a href=\"#本地安装gulp插件\" class=\"headerlink\" title=\"本地安装gulp插件\"></a>本地安装gulp插件</h2><p><strong>安装：</strong>定位目录命令后提示符执行 <code>cnpm install --save-dev</code>；</p>\n<p>本示例以gulp-less为例（编译less文件），命令提示符执行 <code>cnpm install gulp-less --save-dev</code>；</p>\n<p><img src=\"/../imgs/2024-01-05/gulp-tutorial/save.jpg\" alt=\"gulp\"></p>\n<p>将会安装在node_modules的gulp-less目录下，该目录下有一个gulp-less的使用帮助文档README.md；</p>\n<p>为了能正常使用，我们还得本地安装gulp：<code>cnpm install gulp --save-dev</code>；</p>\n<p>PS：细心的你可能会发现，我们全局安装了gulp，项目也安装了gulp，全局安装gulp是为了执行gulp任务，本地安装gulp则是为了调用gulp插件的功能</p>\n<h2 id=\"新建gulpfile-js文件（重要）\"><a href=\"#新建gulpfile-js文件（重要）\" class=\"headerlink\" title=\"新建gulpfile.js文件（重要）\"></a>新建gulpfile.js文件（重要）</h2><p><strong>说明：</strong> <code>gulpfile.js</code> 是gulp项目的配置文件，是位于项目根目录的普通js文件（其实将gulpfile.js放入其他文件夹下亦可）。</p>\n<p>它大概是这样一个js文件：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//导入工具包 require(&#x27;node_modules里对应模块&#x27;)</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;gulp&#x27;</span>), <span class=\"comment\">//本地安装gulp所用到的地方</span></span><br><span class=\"line\">    less = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;gulp-less&#x27;</span>);</span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">//定义一个testLess任务（自定义任务名称）</span></span><br><span class=\"line\">gulp.<span class=\"title function_\">task</span>(<span class=\"string\">&#x27;testLess&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    gulp.<span class=\"title function_\">src</span>(<span class=\"string\">&#x27;src/less/index.less&#x27;</span>) <span class=\"comment\">//该任务针对的文件</span></span><br><span class=\"line\">        .<span class=\"title function_\">pipe</span>(<span class=\"title function_\">less</span>()) <span class=\"comment\">//该任务调用的模块</span></span><br><span class=\"line\">        .<span class=\"title function_\">pipe</span>(gulp.<span class=\"title function_\">dest</span>(<span class=\"string\">&#x27;src/css&#x27;</span>)); <span class=\"comment\">//将会在src/css下生成index.css</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">  </span><br><span class=\"line\">gulp.<span class=\"title function_\">task</span>(<span class=\"string\">&#x27;default&#x27;</span>,[<span class=\"string\">&#x27;testLess&#x27;</span>, <span class=\"string\">&#x27;elseTask&#x27;</span>]); <span class=\"comment\">//定义默认任务</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">//gulp.task(name[, deps], fn) 定义任务  name：任务名称 deps：依赖任务名称 fn：回调函数</span></span><br><span class=\"line\"><span class=\"comment\">//gulp.src(globs[, options]) 执行任务处理的文件  globs：处理的文件路径(字符串或者字符串数组) </span></span><br><span class=\"line\"><span class=\"comment\">//gulp.dest(path[, options]) 处理完后文件生成路径</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"运行gulp\"><a href=\"#运行gulp\" class=\"headerlink\" title=\"运行gulp\"></a>运行gulp</h2><p><strong>说明：</strong>命令提示符执行gulp 任务名称；</p>\n<p><strong>编译less：</strong>命令提示符执行gulp testLess；</p>\n<p>当执行gulp default或gulp将会调用default任务里的所有任务[‘testLess’,’elseTask’]</p>\n<h2 id=\"gulp常用地址\"><a href=\"#gulp常用地址\" class=\"headerlink\" title=\"gulp常用地址\"></a>gulp常用地址</h2><blockquote>\n<p>gulp官方网址：<span class=\"exturl\" data-url=\"aHR0cDovL2d1bHBqcy5jb20v\">http://gulpjs.com<i class=\"fa fa-external-link-alt\"></i></span><br>gulp插件地址：<span class=\"exturl\" data-url=\"aHR0cDovL2d1bHBqcy5jb20vcGx1Z2lucw==\">http://gulpjs.com/plugins<i class=\"fa fa-external-link-alt\"></i></span><br>gulp 官方API：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2d1bHBqcy9ndWxwL2Jsb2IvbWFzdGVyL2RvY3MvQVBJLm1k\">https://github.com/gulpjs/gulp/blob/master/docs/API.md<i class=\"fa fa-external-link-alt\"></i></span></p>\n</blockquote>\n","more":"<p>gulp是基于Nodejs的自动任务运行器， 她能自动化地完成 javascript&#x2F;coffee&#x2F;sass&#x2F;less&#x2F;html&#x2F;image&#x2F;css 等文件的的测试、检查、合并、压缩、格式化、浏览器自动刷新、部署文件生成，并监听文件在改动后重复指定的这些步骤。在实现上，她借鉴了Unix操作系统的管道（pipe）思想，前一级的输出，直接变成后一级的输入，使得在操作上非常简单。通过本文，我们将学习如何使用Gulp来改变开发流程，从而使开发更加快速高效。</p>\n<p>gulp 和 grunt 非常类似，但相比于 grunt 的频繁 IO 操作，gulp 的流操作，能更快地更便捷地完成构建工作。</p>\n<h2 id=\"学习-gulp-的流程\"><a href=\"#学习-gulp-的流程\" class=\"headerlink\" title=\"学习 gulp 的流程\"></a>学习 gulp 的流程</h2><p>在学习前，先谈谈大致使用gulp的步骤，给读者以初步的认识。首先当然是安装nodejs，通过nodejs的npm全局安装和项目安装gulp，其次在项目里安装所需要的gulp插件，然后新建gulp的配置文件gulpfile.js并写好配置信息（定义gulp任务），最后通过命令提示符运行gulp任务即可。</p>\n<p><strong>安装nodejs -&gt; 全局安装gulp -&gt; 项目安装gulp以及gulp插件 -&gt; 配置gulpfile.js -&gt; 运行任务</strong></p>\n<h2 id=\"安装nodejs\"><a href=\"#安装nodejs\" class=\"headerlink\" title=\"安装nodejs\"></a>安装nodejs</h2><p><strong>说明：</strong>gulp是基于nodejs，理所当然需要安装nodejs；</p>\n<p><strong>安装：</strong>打开<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ub2RlanMub3JnL2VuLw==\">nodejs官网<i class=\"fa fa-external-link-alt\"></i></span>，点击硕大的绿色Download按钮，它会根据系统信息选择对应版本（.msi文件）。然后像安装QQ一样安装它就可以了（安装路径随意）。</p>\n<h2 id=\"使用命令行操作\"><a href=\"#使用命令行操作\" class=\"headerlink\" title=\"使用命令行操作\"></a>使用命令行操作</h2><p><strong>说明：</strong>什么是命令行？命令行在OSX是终端（Terminal），在windows是命令提示符（Command Prompt）；</p>\n<p><strong>注：</strong><em>之后操作都是在windows系统下；</em></p>\n<p>简单介绍gulp在使用过程中常用命令，打开命令提示符执行下列命令（打开方式：window + r 输入cmd回车）：</p>\n<ul>\n<li><code>node -v</code>查看安装的nodejs版本，出现版本号，说明刚刚已正确安装nodejs。PS：未能出现版本号，请尝试注销电脑重试</li>\n<li><code>npm -v</code>查看npm的版本号，npm是在安装nodejs时一同安装的nodejs包管理器，那它有什么用呢？稍后解释</li>\n<li><code>cd</code>定位到目录，用法：cd + 路径</li>\n<li><code>dir</code>列出文件列表</li>\n<li><code>cls</code>清空命令提示符窗口内容</li>\n</ul>\n<p><img src=\"/../imgs/2024-01-05/gulp-tutorial/cmd.jpg\" alt=\"gulp\"></p>\n<h2 id=\"关于-npm-的介绍\"><a href=\"#关于-npm-的介绍\" class=\"headerlink\" title=\"关于 npm 的介绍\"></a>关于 npm 的介绍</h2><p><strong>说明：</strong>npm（node package manager）nodejs的包管理器，用于node插件管理（包括安装、卸载、管理依赖等）；</p>\n<p>使用npm安装插件：命令提示符执行 <code>npm install &amp;lt;name&amp;gt; [-g] [--save-dev]</code>；</p>\n<ul>\n<li><code>&amp;lt;name&amp;gt;</code>：node插件名称,例：npm install gulp-less –save-dev</li>\n<li><code>-g</code>：全局安装，将会安装在C:\\Users\\Administrator\\AppData\\Roaming\\npm，并且写入系统环境变量；非全局安装：将会安装在当前定位目录；全局安装可以通过命令行在任何地方调用它，本地安装将安装在定位目录的node_modules文件夹下，通过require()调用；</li>\n<li><code>--save</code>：将保存配置信息至package.json（package.json是nodejs项目配置文件）；</li>\n<li><code>-dev</code>：保存至package.json的devDependencies节点，不指定-dev将保存至dependencies节点；</li>\n</ul>\n<p>为什么要保存至 <code>package.json</code> ？因为node插件包相对来说非常庞大，所以不加入版本管理，将配置信息写入 <code>package.json</code> 并将其加入版本管理，其他开发者对应下载即可（命令提示符执行 <code>npm install</code>，则会根据 <code>package.json</code> 下载所有需要的包）</p>\n<p><strong>NPM常用命令如下：</strong></p>\n<ul>\n<li>使用npm卸载插件：npm uninstall <name> [-g] [–save-dev]  PS：不要直接删除本地插件包</li>\n<li>使用npm更新插件：npm update <name> [-g] [–save-dev]</li>\n<li>更新全部插件：npm update [–save-dev]</li>\n<li>查看npm帮助：npm help</li>\n<li>当前目录已安装插件：npm list</li>\n</ul>\n<p>PS：npm安装插件过程：从 <span class=\"exturl\" data-url=\"aHR0cDovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy8=\">http://registry.npmjs.org<i class=\"fa fa-external-link-alt\"></i></span> 下载对应的插件包（该网站服务器位于国外，所以经常下载缓慢或出现异常），解决办法往下看↓↓↓↓↓↓</p>\n<h2 id=\"选装cnpm来解决问题\"><a href=\"#选装cnpm来解决问题\" class=\"headerlink\" title=\"选装cnpm来解决问题\"></a>选装cnpm来解决问题</h2><p><strong>说明：</strong>因为npm安装插件是从国外服务器下载，受网络影响大，可能出现异常，如果npm的服务器在中国就好了，所以我们乐于分享的淘宝团队干了这事。来自官网：“<strong>这是一个完整 npmjs.org 镜像，你可以用此代替官方版本(只读)，同步频率目前为 10分钟 一次以保证尽量与官方服务同步。</strong>”；</p>\n<p><strong>官方网址：</strong><span class=\"exturl\" data-url=\"aHR0cDovL25wbS50YW9iYW8ub3JnLw==\">http://npm.taobao.org<i class=\"fa fa-external-link-alt\"></i></span></p>\n<p><strong>安装：</strong>命令提示符执行 <code>npm install cnpm -g --registry=https://registry.npm.taobao.org</code> ；  注意：安装完后最好查看其版本号 <code>cnpm -v</code> 或关闭命令提示符重新打开，安装完直接使用有可能会出现错误；</p>\n<p><strong>注：</strong><em>cnpm跟npm用法完全一致，只是在执行命令时将npm改为cnpm（以下操作将以cnpm代替npm）</em></p>\n<h2 id=\"全局安装gulp\"><a href=\"#全局安装gulp\" class=\"headerlink\" title=\"全局安装gulp\"></a>全局安装gulp</h2><p><strong>说明：</strong>全局安装gulp目的是为了通过她执行gulp任务；</p>\n<p><strong>安装：</strong>命令提示符执行 <code>cnpm install gulp -g</code> ；</p>\n<p>查看是否正确安装：命令提示符执行 <code>gulp -v</code> ，出现版本号即为正确安装</p>\n<h2 id=\"新建package-json文件\"><a href=\"#新建package-json文件\" class=\"headerlink\" title=\"新建package.json文件\"></a>新建package.json文件</h2><p><strong>说明：</strong>package.json是基于nodejs项目必不可少的配置文件，它是存放在项目根目录的普通json文件；</p>\n<p>它是这样一个json文件（<strong>注意：json文件内是不能写注释的，复制下列内容请删除注释</strong>）：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;test&quot;</span><span class=\"punctuation\">,</span>   <span class=\"comment\">//项目名称（必须）</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;version&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;1.0.0&quot;</span><span class=\"punctuation\">,</span>   <span class=\"comment\">//项目版本（必须）</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;description&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;This is for study gulp project !&quot;</span><span class=\"punctuation\">,</span>   <span class=\"comment\">//项目描述（必须）</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;homepage&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">,</span>   <span class=\"comment\">//项目主页</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;repository&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span>    <span class=\"comment\">//项目资源库</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;git&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;https://git.oschina.net/xxxx&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;author&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span>    <span class=\"comment\">//项目作者信息</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;surging&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;email&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;surging2@qq.com&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;license&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ISC&quot;</span><span class=\"punctuation\">,</span>    <span class=\"comment\">//项目许可协议</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;devDependencies&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span>    <span class=\"comment\">//项目依赖的插件</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;gulp&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.8.11&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;gulp-less&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.0.0&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>当然我们可以手动新建这个配置文件，但是作为一名有志青年，我们应该使用更为效率的方法：命令提示符执行 <code>cnpm init</code></p>\n<p><img src=\"/../imgs/2024-01-05/gulp-tutorial/code.jpg\" alt=\"gulp\"></p>\n<p>查看package.json帮助文档，命令提示符执行 <code>cnpm help package.json</code></p>\n<p>特别注意：<code>package.json</code> 是一个普通json文件，所以不能添加任何注释。参看 <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy56aGlodS5jb20vcXVlc3Rpb24vMjMwMDQ1MTE=\">http://www.zhihu.com/question/23004511<i class=\"fa fa-external-link-alt\"></i></span></p>\n<h2 id=\"本地安装gulp插件\"><a href=\"#本地安装gulp插件\" class=\"headerlink\" title=\"本地安装gulp插件\"></a>本地安装gulp插件</h2><p><strong>安装：</strong>定位目录命令后提示符执行 <code>cnpm install --save-dev</code>；</p>\n<p>本示例以gulp-less为例（编译less文件），命令提示符执行 <code>cnpm install gulp-less --save-dev</code>；</p>\n<p><img src=\"/../imgs/2024-01-05/gulp-tutorial/save.jpg\" alt=\"gulp\"></p>\n<p>将会安装在node_modules的gulp-less目录下，该目录下有一个gulp-less的使用帮助文档README.md；</p>\n<p>为了能正常使用，我们还得本地安装gulp：<code>cnpm install gulp --save-dev</code>；</p>\n<p>PS：细心的你可能会发现，我们全局安装了gulp，项目也安装了gulp，全局安装gulp是为了执行gulp任务，本地安装gulp则是为了调用gulp插件的功能</p>\n<h2 id=\"新建gulpfile-js文件（重要）\"><a href=\"#新建gulpfile-js文件（重要）\" class=\"headerlink\" title=\"新建gulpfile.js文件（重要）\"></a>新建gulpfile.js文件（重要）</h2><p><strong>说明：</strong> <code>gulpfile.js</code> 是gulp项目的配置文件，是位于项目根目录的普通js文件（其实将gulpfile.js放入其他文件夹下亦可）。</p>\n<p>它大概是这样一个js文件：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//导入工具包 require(&#x27;node_modules里对应模块&#x27;)</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;gulp&#x27;</span>), <span class=\"comment\">//本地安装gulp所用到的地方</span></span><br><span class=\"line\">    less = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;gulp-less&#x27;</span>);</span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">//定义一个testLess任务（自定义任务名称）</span></span><br><span class=\"line\">gulp.<span class=\"title function_\">task</span>(<span class=\"string\">&#x27;testLess&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    gulp.<span class=\"title function_\">src</span>(<span class=\"string\">&#x27;src/less/index.less&#x27;</span>) <span class=\"comment\">//该任务针对的文件</span></span><br><span class=\"line\">        .<span class=\"title function_\">pipe</span>(<span class=\"title function_\">less</span>()) <span class=\"comment\">//该任务调用的模块</span></span><br><span class=\"line\">        .<span class=\"title function_\">pipe</span>(gulp.<span class=\"title function_\">dest</span>(<span class=\"string\">&#x27;src/css&#x27;</span>)); <span class=\"comment\">//将会在src/css下生成index.css</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">  </span><br><span class=\"line\">gulp.<span class=\"title function_\">task</span>(<span class=\"string\">&#x27;default&#x27;</span>,[<span class=\"string\">&#x27;testLess&#x27;</span>, <span class=\"string\">&#x27;elseTask&#x27;</span>]); <span class=\"comment\">//定义默认任务</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">//gulp.task(name[, deps], fn) 定义任务  name：任务名称 deps：依赖任务名称 fn：回调函数</span></span><br><span class=\"line\"><span class=\"comment\">//gulp.src(globs[, options]) 执行任务处理的文件  globs：处理的文件路径(字符串或者字符串数组) </span></span><br><span class=\"line\"><span class=\"comment\">//gulp.dest(path[, options]) 处理完后文件生成路径</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"运行gulp\"><a href=\"#运行gulp\" class=\"headerlink\" title=\"运行gulp\"></a>运行gulp</h2><p><strong>说明：</strong>命令提示符执行gulp 任务名称；</p>\n<p><strong>编译less：</strong>命令提示符执行gulp testLess；</p>\n<p>当执行gulp default或gulp将会调用default任务里的所有任务[‘testLess’,’elseTask’]</p>\n<h2 id=\"gulp常用地址\"><a href=\"#gulp常用地址\" class=\"headerlink\" title=\"gulp常用地址\"></a>gulp常用地址</h2><blockquote>\n<p>gulp官方网址：<span class=\"exturl\" data-url=\"aHR0cDovL2d1bHBqcy5jb20v\">http://gulpjs.com<i class=\"fa fa-external-link-alt\"></i></span><br>gulp插件地址：<span class=\"exturl\" data-url=\"aHR0cDovL2d1bHBqcy5jb20vcGx1Z2lucw==\">http://gulpjs.com/plugins<i class=\"fa fa-external-link-alt\"></i></span><br>gulp 官方API：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2d1bHBqcy9ndWxwL2Jsb2IvbWFzdGVyL2RvY3MvQVBJLm1k\">https://github.com/gulpjs/gulp/blob/master/docs/API.md<i class=\"fa fa-external-link-alt\"></i></span></p>\n</blockquote>","categories":[{"name":"前端","path":"api/categories/前端.json"}],"tags":[{"name":"工具","path":"api/tags/工具.json"}]}